{
  "name": "pos",
  "title": "pos",
  "description": "",
  "schema": {
    "tables": [
      {
        "name": "pos_database",
        "label": "POS Dataset",
        "comment": "Snapshot container for the branch dataset including configuration, menu and cached stores.",
        "sqlName": "pos_database",
        "layout": {
          "x": 0,
          "y": 0
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "id",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": true,
            "unique": true,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "branchId",
            "columnName": "branch_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": ""
          },
          {
            "name": "payload",
            "columnName": "payload",
            "type": "json",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "defaultValue": {},
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_pos_database_branch",
            "columns": [
              "branch_id"
            ],
            "unique": false
          }
        ]
      },
      {
        "name": "pos_terminal",
        "label": "POS Terminal",
        "comment": "Registered POS terminals with physical location metadata.",
        "sqlName": "pos_terminal",
        "layout": {
          "x": 80,
          "y": 40
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "terminal_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "code",
            "columnName": "terminal_code",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": true,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "label",
            "columnName": "terminal_label",
            "type": "string",
            "nullable": false,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "number",
            "columnName": "terminal_number",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "locationId",
            "columnName": "location_id",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "zone",
            "columnName": "zone",
            "type": "string",
            "nullable": true,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "defaultValue": "active",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "timezone",
            "columnName": "timezone",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "lastOnlineAt",
            "columnName": "last_online_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_pos_terminal_code",
            "columns": [
              "terminal_code"
            ],
            "unique": true
          },
          {
            "name": "idx_pos_terminal_status",
            "columns": [
              "status"
            ]
          }
        ]
      },
      {
        "name": "employee",
        "label": "Employee",
        "comment": "Employees and roles that can access the POS.",
        "sqlName": "employee",
        "layout": {
          "x": 200,
          "y": 40
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "employee_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "fullName",
            "columnName": "full_name",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "role",
            "columnName": "role",
            "type": "string",
            "nullable": false,
            "defaultValue": "staff",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "pinCode",
            "columnName": "pin_code",
            "type": "string",
            "nullable": false,
            "maxLength": 16,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "allowedDiscountRate",
            "columnName": "allowed_discount_rate",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 5,
            "scale": 4,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "phone",
            "columnName": "phone",
            "type": "string",
            "nullable": true,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "email",
            "columnName": "email",
            "type": "string",
            "nullable": true,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "defaultValue": "active",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "hiredAt",
            "columnName": "hired_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_employee_role",
            "columns": [
              "role"
            ]
          },
          {
            "name": "idx_employee_status",
            "columns": [
              "status"
            ]
          }
        ]
      },
      {
        "name": "pos_shift",
        "label": "POS Shift",
        "comment": "Lifecycle of a cashier shift per terminal.",
        "sqlName": "pos_shift",
        "layout": {
          "x": 320,
          "y": 60
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "shift_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "posId",
            "columnName": "pos_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "pos_terminal",
              "column": "terminal_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "posLabel",
            "columnName": "pos_label",
            "type": "string",
            "nullable": false,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "posNumber",
            "columnName": "pos_number",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "openedAt",
            "columnName": "opened_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "closedAt",
            "columnName": "closed_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "openingFloat",
            "columnName": "opening_float",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "closingCash",
            "columnName": "closing_cash",
            "type": "decimal",
            "nullable": true,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "cashierId",
            "columnName": "cashier_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "employee",
              "column": "employee_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "cashierName",
            "columnName": "cashier_name",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "cashierRole",
            "columnName": "cashier_role",
            "type": "string",
            "nullable": false,
            "defaultValue": "cashier",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "employeeId",
            "columnName": "employee_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "employee",
              "column": "employee_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "defaultValue": "open",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isClosed",
            "columnName": "is_closed",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "totalsByType",
            "columnName": "totals_by_type",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "paymentsByMethod",
            "columnName": "payments_by_method",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "countsByType",
            "columnName": "counts_by_type",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "ordersCount",
            "columnName": "orders_count",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orders",
            "columnName": "orders_payload",
            "type": "json",
            "nullable": false,
            "defaultValue": [],
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "totalSales",
            "columnName": "total_sales",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_pos_shift_pos_status",
            "columns": [
              "pos_id",
              "is_closed",
              "opened_at"
            ]
          },
          {
            "name": "idx_pos_shift_opened_at",
            "columns": [
              "opened_at"
            ]
          }
        ]
      },
      {
        "name": "shift_cash_audit",
        "label": "Shift Cash Audit",
        "comment": "Cash denomination counts captured when closing a shift.",
        "sqlName": "shift_cash_audit",
        "layout": {
          "x": 560,
          "y": 40
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "audit_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "shiftId",
            "columnName": "shift_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "pos_shift",
              "column": "shift_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "denomination",
            "columnName": "denomination",
            "type": "decimal",
            "nullable": false,
            "precision": 8,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "count",
            "columnName": "count",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "amount",
            "columnName": "amount",
            "type": "decimal",
            "nullable": false,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "capturedAt",
            "columnName": "captured_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_shift_cash_audit_shift",
            "columns": [
              "shift_id"
            ]
          }
        ]
      },
      {
        "name": "shift_payment_summary",
        "label": "Shift Payment Summary",
        "comment": "Aggregated totals per payment method for a shift.",
        "sqlName": "shift_payment_summary",
        "layout": {
          "x": 560,
          "y": 140
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "summary_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "shiftId",
            "columnName": "shift_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "pos_shift",
              "column": "shift_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "paymentMethodId",
            "columnName": "payment_method_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "payment_method",
              "column": "payment_method_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "paymentsCount",
            "columnName": "payments_count",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "totalAmount",
            "columnName": "total_amount",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_shift_payment_summary_shift",
            "columns": [
              "shift_id"
            ]
          }
        ]
      },
      {
        "name": "order_type",
        "label": "Order Type",
        "comment": "Supported POS order types and workflows.",
        "sqlName": "order_type",
        "layout": {
          "x": 80,
          "y": 160
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "order_type_id",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "workflow",
            "columnName": "workflow",
            "type": "string",
            "nullable": false,
            "defaultValue": "single-step",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "allowsSave",
            "columnName": "allows_save",
            "type": "boolean",
            "nullable": false,
            "defaultValue": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "allowsFinalizeLater",
            "columnName": "allows_finalize_later",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "allowsLineAdditions",
            "columnName": "allows_line_additions",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "allowsReturns",
            "columnName": "allows_returns",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "sequence",
            "columnName": "sequence",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_type_sequence",
            "columns": [
              "sequence"
            ]
          }
        ]
      },
      {
        "name": "order_status",
        "label": "Order Status",
        "comment": "High level status codes for orders.",
        "sqlName": "order_status",
        "layout": {
          "x": 200,
          "y": 160
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "status_id",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "sequence",
            "columnName": "sequence",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "order_stage",
        "label": "Order Fulfilment Stage",
        "comment": "Lifecycle stages for kitchen and delivery workflows.",
        "sqlName": "order_stage",
        "layout": {
          "x": 320,
          "y": 160
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "stage_id",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "descriptionAr",
            "columnName": "description_ar",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "descriptionEn",
            "columnName": "description_en",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "sequence",
            "columnName": "sequence",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "lockLineEdits",
            "columnName": "lock_line_edits",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_stage_sequence",
            "columns": [
              "sequence"
            ]
          }
        ]
      },
      {
        "name": "order_payment_state",
        "label": "Order Payment State",
        "comment": "Possible payment states for orders.",
        "sqlName": "order_payment_state",
        "layout": {
          "x": 440,
          "y": 160
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "payment_state_id",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "order_line_status",
        "label": "Order Line Status",
        "comment": "State machine for individual order lines.",
        "sqlName": "order_line_status",
        "layout": {
          "x": 560,
          "y": 160
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "line_status_id",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "sequence",
            "columnName": "sequence",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "payment_method",
        "label": "Payment Method",
        "comment": "Configured payment methods offered by the venue.",
        "sqlName": "payment_method",
        "layout": {
          "x": 680,
          "y": 160
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "payment_method_id",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "type",
            "columnName": "method_type",
            "type": "string",
            "nullable": false,
            "defaultValue": "cash",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "icon",
            "columnName": "icon",
            "type": "string",
            "nullable": true,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "requiresReference",
            "columnName": "requires_reference",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isActive",
            "columnName": "is_active",
            "type": "boolean",
            "nullable": false,
            "defaultValue": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "kitchen_section",
        "label": "Kitchen Section",
        "comment": "Production areas used for routing kitchen tickets.",
        "sqlName": "kitchen_section",
        "layout": {
          "x": 800,
          "y": 60
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "section_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "descriptionAr",
            "columnName": "description_ar",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "descriptionEn",
            "columnName": "description_en",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "sortOrder",
            "columnName": "sort_order",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "menu_category",
        "label": "Menu Category",
        "comment": "Menu taxonomy categories.",
        "sqlName": "menu_category",
        "layout": {
          "x": 800,
          "y": 160
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "category_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "sectionId",
            "columnName": "section_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "kitchen_section",
              "column": "section_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "sortOrder",
            "columnName": "sort_order",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isActive",
            "columnName": "is_active",
            "type": "boolean",
            "nullable": false,
            "defaultValue": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "category_section",
        "label": "Category Section Map",
        "comment": "Bridge between menu categories and kitchen sections.",
        "sqlName": "category_section",
        "layout": {
          "x": 920,
          "y": 160
        },
        "classCode": "",
        "fields": [
          {
            "name": "categoryId",
            "columnName": "category_id",
            "type": "string",
            "nullable": false,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "menu_category",
              "column": "category_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "sectionId",
            "columnName": "section_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "kitchen_section",
              "column": "section_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          }
        ],
        "indexes": [
          {
            "name": "idx_category_section_unique",
            "columns": [
              "category_id",
              "section_id"
            ],
            "unique": true
          }
        ]
      },
      {
        "name": "menu_item",
        "label": "Menu Item",
        "comment": "Sellable menu items with pricing metadata.",
        "sqlName": "menu_item",
        "layout": {
          "x": 800,
          "y": 260
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "item_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "sku",
            "columnName": "sku",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "categoryId",
            "columnName": "category_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "menu_category",
              "column": "category_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "kitchenSectionId",
            "columnName": "kitchen_section_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "kitchen_section",
              "column": "section_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "descriptionAr",
            "columnName": "description_ar",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "descriptionEn",
            "columnName": "description_en",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "basePrice",
            "columnName": "base_price",
            "type": "decimal",
            "nullable": false,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "taxGroupId",
            "columnName": "tax_group_id",
            "type": "string",
            "nullable": true,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isCombo",
            "columnName": "is_combo",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isActive",
            "columnName": "is_active",
            "type": "boolean",
            "nullable": false,
            "defaultValue": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "favoriteRank",
            "columnName": "favorite_rank",
            "type": "integer",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_menu_item_category",
            "columns": [
              "category_id"
            ]
          },
          {
            "name": "idx_menu_item_active",
            "columns": [
              "is_active"
            ]
          }
        ]
      },
      {
        "name": "menu_item_price",
        "label": "Menu Item Price",
        "comment": "Alternate price points for menu items (sizes, combos).",
        "sqlName": "menu_item_price",
        "layout": {
          "x": 1000,
          "y": 260
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "price_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "itemId",
            "columnName": "item_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "menu_item",
              "column": "item_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "priceType",
            "columnName": "price_type",
            "type": "string",
            "nullable": false,
            "defaultValue": "base",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "label",
            "columnName": "label",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "amount",
            "columnName": "amount",
            "type": "decimal",
            "nullable": false,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "currency",
            "columnName": "currency",
            "type": "string",
            "nullable": false,
            "defaultValue": "EGP",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isDefault",
            "columnName": "is_default",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_menu_item_price_item",
            "columns": [
              "item_id"
            ]
          }
        ]
      },
      {
        "name": "menu_item_media",
        "label": "Menu Item Media",
        "comment": "Rich media assets associated with menu items.",
        "sqlName": "menu_item_media",
        "layout": {
          "x": 920,
          "y": 340
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "media_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "itemId",
            "columnName": "item_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "menu_item",
              "column": "item_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "type",
            "columnName": "media_type",
            "type": "string",
            "nullable": false,
            "defaultValue": "image",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "url",
            "columnName": "url",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isPrimary",
            "columnName": "is_primary",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_menu_item_media_item",
            "columns": [
              "item_id"
            ]
          }
        ]
      },
      {
        "name": "menu_modifier",
        "label": "Menu Modifier",
        "comment": "Configurable add-ons and removals.",
        "sqlName": "menu_modifier",
        "layout": {
          "x": 800,
          "y": 360
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "modifier_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "modifierType",
            "columnName": "modifier_type",
            "type": "string",
            "nullable": false,
            "defaultValue": "add_on",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "priceChange",
            "columnName": "price_change",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isActive",
            "columnName": "is_active",
            "type": "boolean",
            "nullable": false,
            "defaultValue": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "menu_item_modifier",
        "label": "Menu Item Modifier",
        "comment": "Bridge table connecting menu items to modifiers.",
        "sqlName": "menu_item_modifier",
        "layout": {
          "x": 920,
          "y": 420
        },
        "classCode": "",
        "fields": [
          {
            "name": "itemId",
            "columnName": "item_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "menu_item",
              "column": "item_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "modifierId",
            "columnName": "modifier_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "menu_modifier",
              "column": "modifier_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "isDefault",
            "columnName": "is_default",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "maxQuantity",
            "columnName": "max_quantity",
            "type": "integer",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_menu_item_modifier_unique",
            "columns": [
              "item_id",
              "modifier_id"
            ],
            "unique": true
          }
        ]
      },
      {
        "name": "customer_profile",
        "label": "Customer Profile",
        "comment": "Customers interacting with the POS.",
        "sqlName": "customer_profile",
        "layout": {
          "x": 80,
          "y": 260
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "customer_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "name",
            "columnName": "customer_name",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "phone",
            "columnName": "phone",
            "type": "string",
            "nullable": true,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "email",
            "columnName": "email",
            "type": "string",
            "nullable": true,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "preferredLanguage",
            "columnName": "preferred_language",
            "type": "string",
            "nullable": true,
            "maxLength": 8,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "notes",
            "columnName": "notes",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_customer_phone",
            "columns": [
              "phone"
            ]
          }
        ]
      },
      {
        "name": "customer_address",
        "label": "Customer Address",
        "comment": "Saved addresses for delivery orders.",
        "sqlName": "customer_address",
        "layout": {
          "x": 80,
          "y": 360
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "address_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "customerId",
            "columnName": "customer_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "customer_profile",
              "column": "customer_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "label",
            "columnName": "label",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "areaId",
            "columnName": "area_id",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "street",
            "columnName": "street",
            "type": "string",
            "nullable": true,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "building",
            "columnName": "building",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "floor",
            "columnName": "floor",
            "type": "string",
            "nullable": true,
            "maxLength": 16,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "apartment",
            "columnName": "apartment",
            "type": "string",
            "nullable": true,
            "maxLength": 16,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "notes",
            "columnName": "notes",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isPrimary",
            "columnName": "is_primary",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_customer_address_customer",
            "columns": [
              "customer_id"
            ]
          }
        ]
      },
      {
        "name": "dining_table",
        "label": "Dining Table",
        "comment": "Physical tables available inside the venue.",
        "sqlName": "dining_table",
        "layout": {
          "x": 80,
          "y": 460
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "table_id",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "name",
            "columnName": "table_name",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "seats",
            "columnName": "seats",
            "type": "integer",
            "nullable": false,
            "defaultValue": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "zone",
            "columnName": "zone",
            "type": "string",
            "nullable": true,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "state",
            "columnName": "state",
            "type": "string",
            "nullable": false,
            "defaultValue": "active",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "displayOrder",
            "columnName": "display_order",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "note",
            "columnName": "note",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_dining_table_zone",
            "columns": [
              "zone"
            ]
          }
        ]
      },
      {
        "name": "table_lock",
        "label": "Table Lock",
        "comment": "Active locks preventing concurrent seating.",
        "sqlName": "table_lock",
        "layout": {
          "x": 80,
          "y": 560
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "lock_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "tableId",
            "columnName": "table_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "dining_table",
              "column": "table_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "lockedBy",
            "columnName": "locked_by",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "employee",
              "column": "employee_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "reason",
            "columnName": "reason",
            "type": "string",
            "nullable": true,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "lockedAt",
            "columnName": "locked_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "expiresAt",
            "columnName": "expires_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_table_lock_table",
            "columns": [
              "table_id"
            ]
          }
        ]
      },
      {
        "name": "reservation",
        "label": "Reservation",
        "comment": "Reservations captured for future seating.",
        "sqlName": "reservation",
        "layout": {
          "x": 80,
          "y": 660
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "reservation_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "customerName",
            "columnName": "customer_name",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "phone",
            "columnName": "phone",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "partySize",
            "columnName": "party_size",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "scheduledAt",
            "columnName": "scheduled_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "holdUntil",
            "columnName": "hold_until",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "defaultValue": "booked",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "note",
            "columnName": "note",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "reservation_table",
        "label": "Reservation Table Link",
        "comment": "Bridge for many-to-many reservations and tables.",
        "sqlName": "reservation_table",
        "layout": {
          "x": 220,
          "y": 660
        },
        "classCode": "",
        "fields": [
          {
            "name": "reservationId",
            "columnName": "reservation_id",
            "type": "string",
            "nullable": false,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "reservation",
              "column": "reservation_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "tableId",
            "columnName": "table_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "dining_table",
              "column": "table_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          }
        ],
        "indexes": [
          {
            "name": "idx_reservation_table_unique",
            "columns": [
              "reservation_id",
              "table_id"
            ],
            "unique": true
          }
        ]
      },
      {
        "name": "delivery_driver",
        "label": "Delivery Driver",
        "comment": "Delivery staff responsible for orders.",
        "sqlName": "delivery_driver",
        "layout": {
          "x": 200,
          "y": 520
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "driver_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "name",
            "columnName": "driver_name",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "phone",
            "columnName": "phone",
            "type": "string",
            "nullable": true,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "vehicleId",
            "columnName": "vehicle_id",
            "type": "string",
            "nullable": true,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isActive",
            "columnName": "is_active",
            "type": "boolean",
            "nullable": false,
            "defaultValue": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "order_header",
        "label": "Order Header",
        "comment": "Primary sales order header tied to shifts and tables.",
        "sqlName": "order_header",
        "layout": {
          "x": 320,
          "y": 260
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "order_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "shiftId",
            "columnName": "shift_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "pos_shift",
              "column": "shift_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "posId",
            "columnName": "pos_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "pos_terminal",
              "column": "terminal_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "posNumber",
            "columnName": "pos_number",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderTypeId",
            "columnName": "order_type_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_type",
              "column": "order_type_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "statusId",
            "columnName": "status_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_status",
              "column": "status_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "stageId",
            "columnName": "stage_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_stage",
              "column": "stage_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "paymentStateId",
            "columnName": "payment_state_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_payment_state",
              "column": "payment_state_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "tableId",
            "columnName": "table_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "dining_table",
              "column": "table_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "customerId",
            "columnName": "customer_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "customer_profile",
              "column": "customer_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "customerAddressId",
            "columnName": "customer_address_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "customer_address",
              "column": "address_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "driverId",
            "columnName": "driver_id",
            "type": "integer",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "delivery_driver",
              "column": "driver_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "openedBy",
            "columnName": "opened_by",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "employee",
              "column": "employee_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "closedBy",
            "columnName": "closed_by",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "employee",
              "column": "employee_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "openedAt",
            "columnName": "opened_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "closedAt",
            "columnName": "closed_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "guests",
            "columnName": "guests",
            "type": "integer",
            "nullable": false,
            "defaultValue": 1,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "notes",
            "columnName": "notes",
            "type": "json",
            "nullable": false,
            "defaultValue": [],
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "subtotal",
            "columnName": "subtotal",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "discount",
            "columnName": "discount_amount",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "service",
            "columnName": "service_amount",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "tax",
            "columnName": "tax_amount",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "deliveryFee",
            "columnName": "delivery_fee",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "totalDue",
            "columnName": "total_due",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "totalPaid",
            "columnName": "total_paid",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "metadata",
            "columnName": "metadata",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_header_shift",
            "columns": [
              "shift_id",
              "opened_at"
            ]
          },
          {
            "name": "idx_order_header_customer",
            "columns": [
              "customer_id"
            ]
          }
        ]
      },
      {
        "name": "order_line",
        "label": "Order Line",
        "comment": "Line items included in orders.",
        "sqlName": "order_line",
        "layout": {
          "x": 560,
          "y": 260
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "line_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderId",
            "columnName": "order_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_header",
              "column": "order_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "parentLineId",
            "columnName": "parent_line_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_line",
              "column": "line_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "itemId",
            "columnName": "item_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "menu_item",
              "column": "item_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "kitchenSectionId",
            "columnName": "kitchen_section_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "kitchen_section",
              "column": "section_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "statusId",
            "columnName": "status_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_line_status",
              "column": "line_status_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "quantity",
            "columnName": "quantity",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 1,
            "precision": 10,
            "scale": 3,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "unitPrice",
            "columnName": "unit_price",
            "type": "decimal",
            "nullable": false,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "total",
            "columnName": "total",
            "type": "decimal",
            "nullable": false,
            "precision": 14,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "notes",
            "columnName": "notes",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "metadata",
            "columnName": "metadata",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_line_order",
            "columns": [
              "order_id"
            ]
          }
        ]
      },
      {
        "name": "order_status_log",
        "label": "Order Status Log",
        "comment": "Immutable log of order status transitions.",
        "sqlName": "order_status_log",
        "layout": {
          "x": 440,
          "y": 260
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "status_log_id",
            "type": "string",
            "nullable": false,
            "maxLength": 96,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderId",
            "columnName": "order_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_header",
              "column": "order_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "statusId",
            "columnName": "status_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_status",
              "column": "status_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "stageId",
            "columnName": "stage_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_stage",
              "column": "stage_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "paymentStateId",
            "columnName": "payment_state_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_payment_state",
              "column": "payment_state_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "actorId",
            "columnName": "actor_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "employee",
              "column": "employee_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "source",
            "columnName": "source",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "reason",
            "columnName": "reason",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "metadata",
            "columnName": "metadata",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "changedAt",
            "columnName": "changed_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_status_log_order",
            "columns": [
              "order_id",
              "changed_at"
            ]
          },
          {
            "name": "idx_order_status_log_actor",
            "columns": [
              "actor_id",
              "changed_at"
            ]
          }
        ]
      },
      {
        "name": "order_line_status_log",
        "label": "Order Line Status Log",
        "comment": "Immutable log of order line transitions.",
        "sqlName": "order_line_status_log",
        "layout": {
          "x": 680,
          "y": 260
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "line_status_log_id",
            "type": "string",
            "nullable": false,
            "maxLength": 96,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderId",
            "columnName": "order_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_header",
              "column": "order_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "orderLineId",
            "columnName": "order_line_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_line",
              "column": "line_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "statusId",
            "columnName": "status_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_line_status",
              "column": "line_status_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "stationId",
            "columnName": "station_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "kitchen_section",
              "column": "section_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "actorId",
            "columnName": "actor_id",
            "type": "string",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "employee",
              "column": "employee_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "source",
            "columnName": "source",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "metadata",
            "columnName": "metadata",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "changedAt",
            "columnName": "changed_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_line_status_log_line",
            "columns": [
              "order_line_id",
              "changed_at"
            ]
          },
          {
            "name": "idx_order_line_status_log_order",
            "columns": [
              "order_id",
              "changed_at"
            ]
          }
        ]
      },
      {
        "name": "order_line_modifier",
        "label": "Order Line Modifier",
        "comment": "Captured modifiers applied to an order line.",
        "sqlName": "order_line_modifier",
        "layout": {
          "x": 800,
          "y": 420
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "line_modifier_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "lineId",
            "columnName": "line_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_line",
              "column": "line_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "modifierId",
            "columnName": "modifier_id",
            "type": "integer",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "menu_modifier",
              "column": "modifier_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "modifierType",
            "columnName": "modifier_type",
            "type": "string",
            "nullable": false,
            "defaultValue": "add_on",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "priceChange",
            "columnName": "price_change",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_line_modifier_line",
            "columns": [
              "line_id"
            ]
          }
        ]
      },
      {
        "name": "order_payment",
        "label": "Order Payment",
        "comment": "Captured payments for orders.",
        "sqlName": "order_payment",
        "layout": {
          "x": 320,
          "y": 420
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "payment_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderId",
            "columnName": "order_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_header",
              "column": "order_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "shiftId",
            "columnName": "shift_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "pos_shift",
              "column": "shift_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "paymentMethodId",
            "columnName": "payment_method_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "payment_method",
              "column": "payment_method_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "amount",
            "columnName": "amount",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "capturedAt",
            "columnName": "captured_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "reference",
            "columnName": "reference",
            "type": "string",
            "nullable": true,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_payment_order",
            "columns": [
              "order_id"
            ]
          },
          {
            "name": "idx_order_payment_shift",
            "columns": [
              "shift_id"
            ]
          }
        ]
      },
      {
        "name": "order_refund",
        "label": "Order Refund",
        "comment": "Refunded amounts linked back to original payments.",
        "sqlName": "order_refund",
        "layout": {
          "x": 560,
          "y": 420
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "refund_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "paymentId",
            "columnName": "payment_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_payment",
              "column": "payment_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "shiftId",
            "columnName": "shift_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "pos_shift",
              "column": "shift_id",
              "onDelete": "RESTRICT",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "amount",
            "columnName": "amount",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 0,
            "precision": 12,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "reason",
            "columnName": "reason",
            "type": "string",
            "nullable": true,
            "maxLength": 256,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "refundedAt",
            "columnName": "refunded_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_order_refund_payment",
            "columns": [
              "payment_id"
            ]
          }
        ]
      },
      {
        "name": "order_delivery",
        "label": "Order Delivery",
        "comment": "Delivery routing and status for delivery orders.",
        "sqlName": "order_delivery",
        "layout": {
          "x": 560,
          "y": 520
        },
        "classCode": "",
        "fields": [
          {
            "name": "orderId",
            "columnName": "order_id",
            "type": "string",
            "nullable": false,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "order_header",
              "column": "order_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "driverId",
            "columnName": "driver_id",
            "type": "integer",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "delivery_driver",
              "column": "driver_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "dispatchedAt",
            "columnName": "dispatched_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "deliveredAt",
            "columnName": "delivered_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "defaultValue": "pending",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "notes",
            "columnName": "notes",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      },
      {
        "name": "job_order_header",
        "label": "Job Order Header",
        "comment": "High level ticket per station that is produced by splitting a POS order.",
        "sqlName": "job_order_header",
        "layout": {
          "x": 80,
          "y": 460
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "job_order_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderId",
            "columnName": "order_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderNumber",
            "columnName": "order_number",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "posRevision",
            "columnName": "pos_revision",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderTypeId",
            "columnName": "order_type_id",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "serviceMode",
            "columnName": "service_mode",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "stationId",
            "columnName": "station_id",
            "type": "string",
            "nullable": false,
            "maxLength": 48,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": ""
          },
          {
            "name": "stationCode",
            "columnName": "station_code",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "defaultValue": "queued",
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": ""
          },
          {
            "name": "progressState",
            "columnName": "progress_state",
            "type": "string",
            "nullable": false,
            "defaultValue": "awaiting",
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "totalItems",
            "columnName": "total_items",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "completedItems",
            "columnName": "completed_items",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "remainingItems",
            "columnName": "remaining_items",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "hasAlerts",
            "columnName": "has_alerts",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isExpedite",
            "columnName": "is_expedite",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "tableLabel",
            "columnName": "table_label",
            "type": "string",
            "nullable": true,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "customerName",
            "columnName": "customer_name",
            "type": "string",
            "nullable": true,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "dueAt",
            "columnName": "due_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "acceptedAt",
            "columnName": "accepted_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "startedAt",
            "columnName": "started_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "readyAt",
            "columnName": "ready_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "completedAt",
            "columnName": "completed_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "expoAt",
            "columnName": "expo_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "syncChecksum",
            "columnName": "sync_checksum",
            "type": "string",
            "nullable": true,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "notes",
            "columnName": "notes",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "meta",
            "columnName": "meta",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_job_order_header_station_status",
            "columns": [
              "station_id",
              "status",
              "created_at"
            ],
            "unique": false
          },
          {
            "name": "idx_job_order_header_order",
            "columns": [
              "order_id",
              "station_id"
            ],
            "unique": false
          }
        ]
      },
      {
        "name": "job_order_detail",
        "label": "Job Order Detail",
        "comment": "Individual prep lines and items that belong to a station job order.",
        "sqlName": "job_order_detail",
        "layout": {
          "x": 320,
          "y": 460
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "detail_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "jobOrderId",
            "columnName": "job_order_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": "",
            "references": {
              "table": "job_order_header",
              "column": "job_order_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "orderLineId",
            "columnName": "order_line_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "posLineRevision",
            "columnName": "pos_line_revision",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "itemId",
            "columnName": "item_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": ""
          },
          {
            "name": "itemSku",
            "columnName": "item_sku",
            "type": "string",
            "nullable": true,
            "maxLength": 48,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "itemNameAr",
            "columnName": "item_name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "itemNameEn",
            "columnName": "item_name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "categoryId",
            "columnName": "category_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "quantity",
            "columnName": "quantity",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 1,
            "precision": 10,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "unit",
            "columnName": "unit",
            "type": "string",
            "nullable": true,
            "maxLength": 16,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "defaultValue": "queued",
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": ""
          },
          {
            "name": "priority",
            "columnName": "priority",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "prepNotes",
            "columnName": "prep_notes",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "allergens",
            "columnName": "allergens",
            "type": "json",
            "nullable": false,
            "defaultValue": [],
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "startAt",
            "columnName": "start_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "finishAt",
            "columnName": "finish_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "lastActionBy",
            "columnName": "last_action_by",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "meta",
            "columnName": "meta",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_job_order_detail_job",
            "columns": [
              "job_order_id",
              "status"
            ],
            "unique": false
          },
          {
            "name": "idx_job_order_detail_item",
            "columns": [
              "item_id"
            ],
            "unique": false
          }
        ]
      },
      {
        "name": "job_order_detail_modifier",
        "label": "Job Order Detail Modifier",
        "comment": "Add-ons, removals and cooking instructions attached to a job order detail line.",
        "sqlName": "job_order_detail_modifier",
        "layout": {
          "x": 520,
          "y": 460
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "modifier_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "detailId",
            "columnName": "detail_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": "",
            "references": {
              "table": "job_order_detail",
              "column": "detail_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "modifierType",
            "columnName": "modifier_type",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameAr",
            "columnName": "name_ar",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "nameEn",
            "columnName": "name_en",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "quantity",
            "columnName": "quantity",
            "type": "decimal",
            "nullable": false,
            "defaultValue": 1,
            "precision": 10,
            "scale": 2,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "isRequired",
            "columnName": "is_required",
            "type": "boolean",
            "nullable": false,
            "defaultValue": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "notes",
            "columnName": "notes",
            "type": "text",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "meta",
            "columnName": "meta",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_job_order_detail_modifier_detail",
            "columns": [
              "detail_id"
            ],
            "unique": false
          }
        ]
      },
      {
        "name": "job_order_status_history",
        "label": "Job Order Status History",
        "comment": "Chronological history of job order header status transitions.",
        "sqlName": "job_order_status_history",
        "layout": {
          "x": 80,
          "y": 660
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "history_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "jobOrderId",
            "columnName": "job_order_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": "",
            "references": {
              "table": "job_order_header",
              "column": "job_order_id",
              "onDelete": "CASCADE",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "reason",
            "columnName": "reason",
            "type": "string",
            "nullable": true,
            "maxLength": 256,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "actorId",
            "columnName": "actor_id",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "actorName",
            "columnName": "actor_name",
            "type": "string",
            "nullable": true,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "actorRole",
            "columnName": "actor_role",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "changedAt",
            "columnName": "changed_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "meta",
            "columnName": "meta",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_job_order_status_history_job",
            "columns": [
              "job_order_id",
              "changed_at"
            ],
            "unique": false
          }
        ]
      },
      {
        "name": "expo_pass_ticket",
        "label": "Expo Pass Ticket",
        "comment": "Aggregate of job orders used by the expeditor hand-off screen.",
        "sqlName": "expo_pass_ticket",
        "layout": {
          "x": 320,
          "y": 660
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "expo_ticket_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderId",
            "columnName": "order_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": ""
          },
          {
            "name": "orderNumber",
            "columnName": "order_number",
            "type": "string",
            "nullable": false,
            "maxLength": 32,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "jobOrderIds",
            "columnName": "job_order_ids",
            "type": "json",
            "nullable": false,
            "defaultValue": [],
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "status",
            "columnName": "status",
            "type": "string",
            "nullable": false,
            "defaultValue": "awaiting",
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "",
            "notes": ""
          },
          {
            "name": "readyItems",
            "columnName": "ready_items",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "totalItems",
            "columnName": "total_items",
            "type": "integer",
            "nullable": false,
            "defaultValue": 0,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "holdReason",
            "columnName": "hold_reason",
            "type": "string",
            "nullable": true,
            "maxLength": 256,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "runnerId",
            "columnName": "runner_id",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "runnerName",
            "columnName": "runner_name",
            "type": "string",
            "nullable": true,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "callAt",
            "columnName": "call_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "deliveredAt",
            "columnName": "delivered_at",
            "type": "timestamp",
            "nullable": true,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "meta",
            "columnName": "meta",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_expo_pass_ticket_status",
            "columns": [
              "status",
              "created_at"
            ],
            "unique": false
          }
        ]
      },
      {
        "name": "audit_event",
        "label": "Audit Event",
        "comment": "Actions performed within the POS for traceability.",
        "sqlName": "audit_event",
        "layout": {
          "x": 320,
          "y": 520
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "event_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": true,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "userId",
            "columnName": "user_id",
            "type": "string",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": "",
            "references": {
              "table": "employee",
              "column": "employee_id",
              "onDelete": "SET NULL",
              "onUpdate": "CASCADE"
            }
          },
          {
            "name": "action",
            "columnName": "action",
            "type": "string",
            "nullable": false,
            "maxLength": 96,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "refType",
            "columnName": "ref_type",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "refId",
            "columnName": "ref_id",
            "type": "string",
            "nullable": true,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "occurredAt",
            "columnName": "occurred_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          },
          {
            "name": "meta",
            "columnName": "meta",
            "type": "json",
            "nullable": false,
            "defaultValue": {},
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "",
            "notes": ""
          }
        ],
        "indexes": []
      }
    ],
    "name": "mishkah_pos",
    "version": 1
  },
  "tables": [
    {
      "name": "order_return_header",
      "label": "Order Return",
      "comment": "Return transactions associated with completed orders.",
      "sqlName": "order_return_header",
      "layout": {
        "x": 720,
        "y": 260
      },
      "classCode": "",
      "fields": [
        {
          "name": "id",
          "columnName": "return_id",
          "type": "string",
          "nullable": false,
          "primaryKey": true,
          "unique": false,
          "index": false,
          "maxLength": 64,
          "comment": "",
          "notes": ""
        },
        {
          "name": "orderId",
          "columnName": "order_id",
          "type": "string",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "comment": "",
          "notes": "",
          "references": {
            "table": "order_header",
            "column": "order_id",
            "onDelete": "RESTRICT",
            "onUpdate": "CASCADE"
          }
        },
        {
          "name": "shiftId",
          "columnName": "shift_id",
          "type": "string",
          "nullable": true,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "comment": "",
          "notes": "",
          "references": {
            "table": "pos_shift",
            "column": "shift_id",
            "onDelete": "SET NULL",
            "onUpdate": "CASCADE"
          }
        },
        {
          "name": "branchSequence",
          "columnName": "branch_seq",
          "type": "integer",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "defaultValue": 0,
          "comment": "Sequential return number for the branch.",
          "notes": ""
        },
        {
          "name": "orderSequence",
          "columnName": "order_seq",
          "type": "integer",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "defaultValue": 0,
          "comment": "Return sequence number scoped to the order.",
          "notes": ""
        },
        {
          "name": "totalAmount",
          "columnName": "total_amount",
          "type": "decimal",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "precision": 14,
          "scale": 2,
          "comment": "Total value of the returned items.",
          "notes": ""
        },
        {
          "name": "createdAt",
          "columnName": "created_at",
          "type": "timestamp",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "comment": "",
          "notes": ""
        },
        {
          "name": "createdBy",
          "columnName": "created_by",
          "type": "string",
          "nullable": true,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "maxLength": 64,
          "comment": "User who issued the return.",
          "notes": "",
          "references": {
            "table": "employee",
            "column": "employee_id",
            "onDelete": "SET NULL",
            "onUpdate": "CASCADE"
          }
        },
        {
          "name": "meta",
          "columnName": "meta",
          "type": "json",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "defaultValue": {},
          "comment": "Arbitrary structured metadata for integrations.",
          "notes": ""
        }
      ],
      "indexes": []
    },
    {
      "name": "order_return_line",
      "label": "Order Return Line",
      "comment": "Individual line items linked to an order return header.",
      "sqlName": "order_return_line",
      "layout": {
        "x": 900,
        "y": 260
      },
      "classCode": "",
      "fields": [
        {
          "name": "id",
          "columnName": "return_line_id",
          "type": "string",
          "nullable": false,
          "primaryKey": true,
          "unique": false,
          "index": false,
          "maxLength": 64,
          "comment": "",
          "notes": ""
        },
        {
          "name": "returnId",
          "columnName": "return_id",
          "type": "string",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "comment": "",
          "notes": "",
          "references": {
            "table": "order_return_header",
            "column": "return_id",
            "onDelete": "CASCADE",
            "onUpdate": "CASCADE"
          }
        },
        {
          "name": "orderLineId",
          "columnName": "order_line_id",
          "type": "string",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "comment": "",
          "notes": "",
          "references": {
            "table": "order_line",
            "column": "line_id",
            "onDelete": "RESTRICT",
            "onUpdate": "CASCADE"
          }
        },
        {
          "name": "quantity",
          "columnName": "quantity",
          "type": "decimal",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "precision": 10,
          "scale": 3,
          "comment": "Quantity returned from the original line.",
          "notes": ""
        },
        {
          "name": "unitPrice",
          "columnName": "unit_price",
          "type": "decimal",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "precision": 12,
          "scale": 2,
          "comment": "Unit price at the time of return for reporting.",
          "notes": ""
        },
        {
          "name": "createdAt",
          "columnName": "created_at",
          "type": "timestamp",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "comment": "",
          "notes": ""
        },
        {
          "name": "meta",
          "columnName": "meta",
          "type": "json",
          "nullable": false,
          "primaryKey": false,
          "unique": false,
          "index": false,
          "defaultValue": {},
          "comment": "Extensible metadata for the return line.",
          "notes": ""
        }
      ],
      "indexes": []
    }
  ]
}
