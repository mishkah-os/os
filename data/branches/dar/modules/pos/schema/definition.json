{
  "name": "pos",
  "title": "Point of Sale",
  "description": "POS module schema with pos_database snapshot container",
  "schema": {
    "tables": [
      {
        "name": "pos_database",
        "label": "POS Dataset",
        "comment": "Snapshot container for the branch dataset including configuration, menu and cached stores.",
        "sqlName": "pos_database",
        "layout": {
          "x": 0,
          "y": 0
        },
        "classCode": "",
        "fields": [
          {
            "name": "id",
            "columnName": "id",
            "type": "string",
            "nullable": false,
            "maxLength": 128,
            "primaryKey": true,
            "unique": true,
            "index": false,
            "comment": "Unique record identifier",
            "notes": ""
          },
          {
            "name": "branchId",
            "columnName": "branch_id",
            "type": "string",
            "nullable": false,
            "maxLength": 64,
            "primaryKey": false,
            "unique": false,
            "index": true,
            "comment": "Branch identifier",
            "notes": ""
          },
          {
            "name": "payload",
            "columnName": "payload",
            "type": "json",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "defaultValue": {},
            "comment": "Complete POS dataset including settings, menu, orders, etc.",
            "notes": "Contains all POS tables: settings, shift_settings, payment_methods, shifts, kitchen_sections, category_sections, order_types, order_statuses, order_payment_states, order_stages, order_line_statuses, employees, tableLocks, orders, reservations, auditEvents, drivers, categories, items, add_ons, removals"
          },
          {
            "name": "createdAt",
            "columnName": "created_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "Record creation timestamp",
            "notes": ""
          },
          {
            "name": "updatedAt",
            "columnName": "updated_at",
            "type": "timestamp",
            "nullable": false,
            "primaryKey": false,
            "unique": false,
            "index": false,
            "comment": "Record last update timestamp",
            "notes": ""
          }
        ],
        "indexes": [
          {
            "name": "idx_pos_database_branch",
            "columns": [
              "branch_id"
            ],
            "unique": false
          }
        ]
      }
    ]
  }
}
