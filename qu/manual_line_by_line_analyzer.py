#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import json
from typing import Tuple, List, Dict

class ManualLineByLineAnalyzer:
    """Ù…Ø­Ù„Ù„ ÙŠØ¯ÙˆÙŠ Ø¯Ù‚ÙŠÙ‚ Ø¬Ø¯Ø§Ù‹: Ø³Ø·Ø± Ø¨Ø³Ø·Ø± Ù…Ø¹ ØªØ­Ù„ÙŠÙ„ Ù…Ø¹Ù…Ù‚ Ù„ÙƒÙ„ Ù…ÙˆØ±ÙÙŠÙ…"""

    # Ù‚Ø§Ù…ÙˆØ³ Ø´Ø§Ù…Ù„ Ø¨ÙƒÙ„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙˆØ§Ù„ØªØµØ­ÙŠØ­Ø§Øª Ø§Ù„ÙŠØ¯ÙˆÙŠØ©
    MANUAL_CORRECTIONS = {
        # ===== Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¨Ø³ÙŠØ·Ø© =====
        'Ù…ÙÙ†': ['Ù…ÙÙ†', 'Ù….Ù†', '1.1'],  # Ø­Ø±Ù Ø¬Ø±
        'ÙÙÙŠ': ['ÙÙÙŠ', 'Ù.#', '1.1'],  # Ø­Ø±Ù Ø¬Ø±
        'Ø¹ÙÙ„ÙÙ‰': ['Ø¹ÙÙ„ÙÙ‰', 'Ø¹.Ù„.Ùˆ', '1.1'],  # Ø­Ø±Ù Ø¬Ø±
        'Ø¥ÙÙ„ÙÙ‰': ['Ø¥ÙÙ„ÙÙ‰', 'Ø¡.Ù„.ÙŠ', '1.1'],  # Ø­Ø±Ù Ø¬Ø±
        'Ø¹ÙÙ†Ù’': ['Ø¹ÙÙ†Ù’', 'Ø­Ø±Ù', '1.1'],  # Ø­Ø±Ù Ø¬Ø±
        'Ø­ÙØªÙÙ‘Ù‰': ['Ø­ÙØªÙÙ‘Ù‰', 'Ø­Ø±Ù', '1.1'],  # Ø¸Ø±Ù/Ø­Ø±Ù
        'Ù…ÙØ¹Ù': ['Ù…ÙØ¹Ù', 'Ø­Ø±Ù', '1.1'],  # Ø­Ø±Ù Ø¬Ø±
        'Ù„Ø§': ['Ù„Ø§', 'Ù„.#', '1.10'],  # Ø­Ø±Ù Ù†ÙÙŠ
        'Ù…ÙØ§': ['Ù…ÙØ§', 'Ù….#', '1.10'],  # Ø­Ø±Ù Ù†ÙÙŠ/Ù…ÙˆØµÙˆÙ„
        'Ø¥ÙÙ†': ['Ø¥ÙÙ†', '#.Ù†', '1.4'],  # Ø­Ø±Ù Ø¬Ø²Ù…
        'Ø¥ÙÙ†ÙÙ‘': ['Ø¥ÙÙ†ÙÙ‘', '#.Ù†.Ù†', '1.9'],  # Ø­Ø±Ù ØªÙˆÙƒÙŠØ¯
        'Ø£ÙÙ†ÙÙ‘': ['Ø£ÙÙ†ÙÙ‘', '#.Ù†.Ù†', '1.9'],  # Ø­Ø±Ù ØªÙˆÙƒÙŠØ¯
        'Ù‚ÙØ¯Ù’': ['Ù‚ÙØ¯Ù’', 'Ø­Ø±Ù', '1.9'],  # Ø­Ø±Ù ØªÙˆÙƒÙŠØ¯
        'Ù„ÙÙ…Ù’': ['Ù„ÙÙ…Ù’', 'Ø­Ø±Ù', '1.4'],  # Ø­Ø±Ù Ø¬Ø²Ù…
        'Ù„ÙÙ†Ù’': ['Ù„ÙÙ†Ù’', 'Ø­Ø±Ù', '1.3'],  # Ø­Ø±Ù Ù†ØµØ¨
        'Ù‡ÙÙ„Ù’': ['Ù‡ÙÙ„Ù’', 'Ø­Ø±Ù', '1.7'],  # Ø­Ø±Ù Ø§Ø³ØªÙÙ‡Ø§Ù…
        'ÙƒÙÙŠÙ’ÙÙ': ['ÙƒÙÙŠÙ’ÙÙ', 'Ùƒ.ÙŠ.Ù', '1.7'],  # Ø§Ø³ØªÙÙ‡Ø§Ù… Ø¸Ø±ÙÙŠ
        'Ø¥ÙÙ„Ù‘Ø§': ['Ø¥ÙÙ„Ù‘Ø§', '#.Ù„.Ù„', '1.8'],  # Ø­Ø±Ù Ø§Ø³ØªØ«Ù†Ø§Ø¡
        'Ø¨ÙÙ„Ù’': ['Ø¨ÙÙ„Ù’', 'Ø­Ø±Ù', '1.14'],  # Ø­Ø±Ù Ø¥Ø¶Ø±Ø§Ø¨
        'Ù„Ù°ÙƒÙÙ†Ù’': ['Ù„Ù°ÙƒÙÙ†Ù’', 'Ø­Ø±Ù', '1.18'],  # Ø­Ø±Ù Ø§Ø³ØªØ¯Ø±Ø§Ùƒ
        'Ø£ÙÙˆÙ’': ['Ø£ÙÙˆÙ’', 'Ø­Ø±Ù', '1.2'],  # Ø­Ø±Ù Ø¹Ø·Ù
        'Ø£ÙÙ…Ù’': ['Ø£ÙÙ…Ù’', 'Ø­Ø±Ù', '1.2'],  # Ø­Ø±Ù Ø¹Ø·Ù
        'Ù„ÙÙˆÙ’': ['Ù„ÙÙˆÙ’', 'Ø­Ø±Ù', '1.4'],  # Ø­Ø±Ù Ø´Ø±Ø·

        # ===== Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¹Ù„Ù… =====
        'Ø§Ù„Ù„Ù‘Ù°Ù‡': ['Ø§Ù„Ù„Ù‘Ù°Ù‡', 'Ø¡.Ù„.Ù‡', '2.2'],  # Ø§Ø³Ù… Ø¹Ù„Ù…
        'Ù…ÙÙˆØ³ÙÙ‰': ['Ù…ÙÙˆØ³ÙÙ‰', 'NTWS', '2.2'],  # Ø§Ø³Ù… Ø¹Ù„Ù… Ø£Ø¹Ø¬Ù…ÙŠ
        'Ø¥ÙØ¨Ù’Ø±Ø§Ù‡ÙÙŠÙ…': ['Ø¥ÙØ¨Ù’Ø±Ø§Ù‡ÙÙŠÙ…', 'NTWS', '2.2'],  # Ø§Ø³Ù… Ø¹Ù„Ù… Ø£Ø¹Ø¬Ù…ÙŠ
        'Ø¬ÙÙ‡ÙÙ†ÙÙ‘Ù…': ['Ø¬ÙÙ‡ÙÙ†ÙÙ‘Ù…', 'NTWS', '2.2'],  # Ø§Ø³Ù… Ø¹Ù„Ù…
        'ÙÙØ±Ù’Ø¹ÙÙˆÙ’Ù†': ['ÙÙØ±Ù’Ø¹ÙÙˆÙ’Ù†', 'NTWS', '2.2'],  # Ø§Ø³Ù… Ø¹Ù„Ù… Ø£Ø¹Ø¬Ù…ÙŠ

        # ===== Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¥Ø´Ø§Ø±Ø© =====
        'Ù‡Ù°Ø°Ø§': ['Ù‡Ù°Ø°Ø§', 'Ø§Ø³Ù… Ø¥Ø´Ø§Ø±Ø©', '2.3'],
        'Ø°Ù°Ù„ÙÙƒÙ': ['Ø°Ù°Ù„ÙÙƒÙ', 'Ø§Ø³Ù… Ø¥Ø´Ø§Ø±Ø©', '2.3'],
        'Ø£ÙÙˆÙ„Ù°Ø¦ÙÙƒÙ': ['Ø£ÙÙˆÙ„Ù°Ø¦ÙÙƒÙ', 'Ø§Ø³Ù… Ø¥Ø´Ø§Ø±Ø©', '2.3'],
        'ØªÙÙ„Ù’ÙƒÙ': ['ØªÙÙ„Ù’ÙƒÙ', 'Ø§Ø³Ù… Ø¥Ø´Ø§Ø±Ø©', '2.3'],
        'Ù‡Ù°Ø¤ÙÙ„Ø§Ø¡Ù': ['Ù‡Ù°Ø¤ÙÙ„Ø§Ø¡Ù', 'Ø§Ø³Ù… Ø¥Ø´Ø§Ø±Ø©', '2.3'],

        # ===== Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…ÙˆØµÙˆÙ„Ø© =====
        'Ø§Ù„ÙÙ‘Ø°ÙÙŠ': ['Ø§Ù„ÙÙ‘Ø°ÙÙŠ', 'Ø¡.Ù„.Ø°', '2.4'],
        'Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù': ['Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù', 'Ø¡.Ù„.Ø°', '2.4'],
        'Ø§Ù„ÙÙ‘ØªÙÙŠ': ['Ø§Ù„ÙÙ‘ØªÙÙŠ', 'Ø¡.Ù„.Ø°', '2.4'],

        # ===== Ø§Ù„Ø¶Ù…Ø§Ø¦Ø± Ø§Ù„Ù…Ù†ÙØµÙ„Ø© =====
        'Ù‡ÙÙˆÙ': ['Ù‡ÙÙˆÙ', 'Ø¶Ù…ÙŠØ±', '4.1'],
        'Ù‡ÙÙ…': ['Ù‡ÙÙ…', 'Ø¶Ù…ÙŠØ±', '4.1'],
        'Ù‡ÙÙŠÙ': ['Ù‡ÙÙŠÙ', 'Ø¶Ù…ÙŠØ±', '4.1'],
        'Ø£ÙÙ†Ù’ØªÙÙ…': ['Ø£ÙÙ†Ù’ØªÙÙ…', 'Ø¶Ù…ÙŠØ±', '4.1'],
        'Ø£ÙÙ†Ù’ØªÙ': ['Ø£ÙÙ†Ù’ØªÙ', 'Ø¶Ù…ÙŠØ±', '4.1'],
        'Ø£ÙÙ†Ø§': ['Ø£ÙÙ†Ø§', 'Ø¶Ù…ÙŠØ±', '4.1'],
        'Ù†ÙØ­Ù’Ù†Ù': ['Ù†ÙØ­Ù’Ù†Ù', 'Ø¶Ù…ÙŠØ±', '4.1'],

        # ===== Ø§Ù„Ø¸Ø±ÙˆÙ =====
        'Ø¥ÙØ°Ø§': ['Ø¥ÙØ°Ø§', 'Ø¸Ø±Ù', '5.1'],
        'Ø¥ÙØ°Ù’': ['Ø¥ÙØ°Ù’', 'Ø¸Ø±Ù', '5.1'],
        'Ø¨ÙØ¹Ù’Ø¯': ['Ø¨ÙØ¹Ù’Ø¯', 'Ø¨.Ø¹.Ø¯', '5.1'],
        'Ù‚ÙØ¨ÙÙ„': ['Ù‚ÙØ¨ÙÙ„', 'Ù‚.Ø¨.Ù„', '5.1'],
        'ÙŠÙÙˆÙ’Ù…ÙØ¦ÙØ°Ù': ['ÙŠÙÙˆÙ’Ù…ÙØ¦ÙØ°Ù', 'ÙŠ.Ùˆ.Ù…', '5.1'],
        'Ø«ÙÙ…ÙÙ‘': ['Ø«ÙÙ…ÙÙ‘', 'Ø«.Ù….Ù…', '5.2'],
        'Ø¹ÙÙ†Ù’Ø¯': ['Ø¹ÙÙ†Ù’Ø¯', 'Ø¹.Ù†.Ø¯', '5.2'],
        'Ø¯ÙÙˆÙ†': ['Ø¯ÙÙˆÙ†', 'Ø¯.Ùˆ.Ù†', '5.2'],
        'Ø¨ÙÙŠÙ’Ù†Ù': ['Ø¨ÙÙŠÙ’Ù†Ù', 'Ø¨.ÙŠ.Ù†', '5.2'],

        # ===== Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙƒØ¨Ø© (Ø­Ø±Ù + Ø§Ø³Ù…/Ø¶Ù…ÙŠØ±) =====
        'ÙˆÙ+Ù„Ø§': ['ÙˆÙ+Ù„Ø§', 'Ù„.#', '1.2,1.10'],  # Ø­Ø±Ù Ø¹Ø·Ù + Ù†ÙÙŠ
        'ÙˆÙ+Ù…Ø§': ['ÙˆÙ+Ù…Ø§', 'Ù….#', '1.2,1.10'],  # Ø­Ø±Ù Ø¹Ø·Ù + Ù†ÙÙŠ/Ù…ÙˆØµÙˆÙ„
        'ÙÙ+Ù„Ø§': ['ÙÙ+Ù„Ø§', 'Ø­Ø±Ù', '1.2,1.10'],  # Ø­Ø±Ù Ø¹Ø·Ù + Ù†ÙÙŠ
        'ÙÙ+Ù…Ø§': ['ÙÙ+Ù…Ø§', 'Ø­Ø±Ù', '1.2,1.10'],  # Ø­Ø±Ù Ø¹Ø·Ù + Ù†ÙÙŠ

        # ===== Ù…Ø±ÙƒØ¨Ø§Øª ØªØ¹Ø±ÙŠÙ =====
        'ÙˆÙ+Ø§Ù„+Ù„Ù‘Ù°Ù‡': ['ÙˆÙ+Ø§Ù„+Ù„Ù‘Ù°Ù‡', 'Ø¡.Ù„.Ù‡', '1.2,1.5,2.2'],
        'Ø¨Ù+Ø§Ù„+Ù„Ù‘Ù°Ù‡': ['Ø¨Ù+Ø§Ù„+Ù„Ù‘Ù°Ù‡', 'Ø¡.Ù„.Ù‡', '1.1,1.5,2.2'],
        'Ù„Ù+Ø§Ù„+Ù„Ù‘Ù°Ù‡': ['Ù„Ù+Ø§Ù„+Ù„Ù‘Ù°Ù‡', 'Ø¡.Ù„.Ù‡', '1.1,1.5,2.2'],
        'Ø§Ù„+Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù': ['Ø§Ù„+Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù', 'Ø¡.Ù„.Ø°', '1.5,2.4'],
        'Ø§Ù„+Ù„ÙÙ‘Ø°ÙÙŠ': ['Ø§Ù„+Ù„ÙÙ‘Ø°ÙÙŠ', 'Ø¡.Ù„.Ø°', '1.5,2.4'],
        'Ø§Ù„+Ø£ÙØ±Ù’Ø¶': ['Ø§Ù„+Ø£ÙØ±Ù’Ø¶', 'Ø¡.Ø±.Ø¶', '1.5,2.1'],
        'Ø§Ù„+Ù„Ù‘Ù°Ù‡': ['Ø§Ù„+Ù„Ù‘Ù°Ù‡', 'Ø¡.Ù„.Ù‡', '1.5,2.2'],
        'Ø§Ù„+ÙƒÙØªØ§Ø¨': ['Ø§Ù„+ÙƒÙØªØ§Ø¨', 'Ùƒ.Øª.Ø¨', '1.5,2.1'],

        # ===== Ø£Ø³Ù…Ø§Ø¡ + Ø¶Ù…Ø§Ø¦Ø± Ù…ØªØµÙ„Ø© =====
        'Ø±ÙØ¨Ù‘+ÙƒÙ': ['Ø±ÙØ¨Ù‘+ÙƒÙ', 'Ø±.Ø¨.Ø¨', '2.1,4.2'],
        'Ø±ÙØ¨Ù‘+ÙƒÙÙ…': ['Ø±ÙØ¨Ù‘+ÙƒÙÙ…', 'Ø±.Ø¨.Ø¨', '2.1,4.2'],
        'Ø±ÙØ¨Ù‘+ÙÙŠ': ['Ø±ÙØ¨Ù‘+ÙÙŠ', 'Ø±.Ø¨.Ø¨', '2.1,4.2'],
        'Ø±ÙØ¨Ù‘+Ù‡ÙÙ…': ['Ø±ÙØ¨Ù‘+Ù‡ÙÙ…', 'Ø±.Ø¨.Ø¨', '2.1,4.2'],
        'Ø±ÙØ¨Ù‘+Ù†Ø§': ['Ø±ÙØ¨Ù‘+Ù†Ø§', 'Ø±.Ø¨.Ø¨', '2.1,4.2'],
        'Ø±ÙØ¨Ù‘+Ù‡Ù': ['Ø±ÙØ¨Ù‘+Ù‡Ù', 'Ø±.Ø¨.Ø¨', '2.1,4.2'],

        # ===== Ø¬Ø§Ø± + Ù…Ø¬Ø±ÙˆØ± =====
        'Ù…ÙÙ†+Ù‡ÙÙ…': ['Ù…ÙÙ†+Ù‡ÙÙ…', 'Ø­Ø±Ù', '1.1,4.2'],
        'Ù…ÙÙ†+Ù‡Ù': ['Ù…ÙÙ†+Ù‡Ù', 'Ø­Ø±Ù', '1.1,4.2'],
        'Ù…ÙÙ†+Ù…Ø§': ['Ù…ÙÙ†+Ù…Ø§', 'Ø­Ø±Ù', '1.1,2.4'],
        'Ù…ÙÙ†+ÙƒÙÙ…': ['Ù…ÙÙ†+ÙƒÙÙ…', 'Ø­Ø±Ù', '1.1,4.2'],
        'Ù…ÙÙ†+Ù‡Ø§': ['Ù…ÙÙ†+Ù‡Ø§', 'Ø­Ø±Ù', '1.1,4.2'],

        'ÙÙÙŠ+Ù‡Ø§': ['ÙÙÙŠ+Ù‡Ø§', 'Ø­Ø±Ù', '1.1,4.2'],
        'ÙÙÙŠ+Ù‡Ù': ['ÙÙÙŠ+Ù‡Ù', 'Ø­Ø±Ù', '1.1,4.2'],

        'Ø¹ÙÙ„ÙÙ‰+Ù‡ÙÙ…': ['Ø¹ÙÙ„ÙÙ‰+Ù‡ÙÙ…', 'Ø¹.Ù„.Ùˆ', '1.1,4.2'],
        'Ø¹ÙÙ„ÙÙ‰+Ù‡Ù': ['Ø¹ÙÙ„ÙÙ‰+Ù‡Ù', 'Ø¹.Ù„.Ùˆ', '1.1,4.2'],
        'Ø¹ÙÙ„ÙÙ‰+ÙƒÙÙ…': ['Ø¹ÙÙ„ÙÙ‰+ÙƒÙÙ…', 'Ø¹.Ù„.Ùˆ', '1.1,4.2'],
        'Ø¹ÙÙ„ÙÙ‰+ÙƒÙ': ['Ø¹ÙÙ„ÙÙ‰+ÙƒÙ', 'Ø¹.Ù„.Ùˆ', '1.1,4.2'],

        'Ø¥ÙÙ„ÙÙ‰+ÙƒÙ': ['Ø¥ÙÙ„ÙÙ‰+ÙƒÙ', 'Ø¡.Ù„.ÙŠ', '1.1,4.2'],
        'Ø¥ÙÙ„ÙÙ‰+Ù‡Ù': ['Ø¥ÙÙ„ÙÙ‰+Ù‡Ù', 'Ø¡.Ù„.ÙŠ', '1.1,4.2'],
        'Ø¥ÙÙ„ÙÙ‰+Ù‡Ø§': ['Ø¥ÙÙ„ÙÙ‰+Ù‡Ø§', 'Ø¡.Ù„.ÙŠ', '1.1,4.2'],

        'Ù„Ù+Ù‡ÙÙ…': ['Ù„Ù+Ù‡ÙÙ…', 'Ø­Ø±Ù', '1.1,4.2'],
        'Ù„Ù+ÙƒÙÙ…': ['Ù„Ù+ÙƒÙÙ…', 'Ø­Ø±Ù', '1.1,4.2'],
        'Ù„Ù+Ù‡Ù': ['Ù„Ù+Ù‡Ù', 'Ø­Ø±Ù', '1.1,4.2'],
        'Ù„Ù+Ù†Ø§': ['Ù„Ù+Ù†Ø§', 'Ø­Ø±Ù', '1.1,4.2'],
        'Ù„Ù+Ù…Ø§': ['Ù„Ù+Ù…Ø§', 'Ø­Ø±Ù', '1.1,2.4'],
        'Ù„Ù+Ù…ÙÙ†Ù’': ['Ù„Ù+Ù…ÙÙ†Ù’', 'Ø­Ø±Ù', '1.1,2.4'],
        'Ù„Ù+Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù': ['Ù„Ù+Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù', 'Ø¡.Ù„.Ø°', '1.1,2.4'],

        'Ø¨Ù+Ù‡Ø§': ['Ø¨Ù+Ù‡Ø§', 'Ø­Ø±Ù', '1.1,4.2'],
        'Ø¨Ù+Ù‡Ù': ['Ø¨Ù+Ù‡Ù', 'Ø­Ø±Ù', '1.1,4.2'],

        'Ø¹ÙÙ†Ù’+Ù‡ÙÙ…': ['Ø¹ÙÙ†Ù’+Ù‡ÙÙ…', 'Ø­Ø±Ù', '1.1,4.2'],

        # ===== Ø­Ø±Ù + ÙØ¹Ù„ + Ø¶Ù…ÙŠØ± =====
        'Ù‚Ø§Ù„+ÙÙˆØ§': ['Ù‚Ø§Ù„+ÙÙˆØ§', 'Ù‚.Ùˆ.Ù„', '3.1,4.2'],
        'ÙƒØ§Ù†+ÙÙˆØ§': ['ÙƒØ§Ù†+ÙÙˆØ§', 'Ùƒ.Ùˆ.Ù†', '3.1,4.2'],
        'ÙƒÙÙÙÙ‘Ø±+ÙÙˆØ§': ['ÙƒÙÙÙÙ‘Ø±+ÙÙˆØ§', 'Ùƒ.Ù.Ø±', '3.1,4.2'],
        'ÙƒÙÙ†+ØªÙÙ…': ['ÙƒÙÙ†+ØªÙÙ…', 'Ùƒ.Ùˆ.Ù†', '3.1,4.2'],

        'ÙˆÙ+Ù‚Ø§Ù„Ù': ['ÙˆÙ+Ù‚Ø§Ù„Ù', 'Ù‚.Ùˆ.Ù„', '1.2,3.1'],
        'ÙˆÙ+ÙƒØ§Ù†Ù': ['ÙˆÙ+ÙƒØ§Ù†Ù', 'Ùƒ.Ùˆ.Ù†', '1.2,3.1'],
        'ÙˆÙ+Ù‚Ø§Ù„+ÙÙˆØ§': ['ÙˆÙ+Ù‚Ø§Ù„+ÙÙˆØ§', 'Ù‚.Ùˆ.Ù„', '1.2,3.1,4.2'],

        # ===== ÙØ¹Ù„ Ù…Ø¶Ø§Ø±Ø¹ Ù…Ø¹ Ø³Ø§Ø¨Ù‚Ø© =====
        'ÙŠÙ+Ø´Ø§Ø¡': ['ÙŠÙ+Ø´Ø§Ø¡', 'Ø´.ÙŠ.Ø¡', '1.17,3.2'],
        'ÙŠÙ+Ø¤Ù’Ù…ÙÙ†+ÙÙˆÙ†Ù': ['ÙŠÙ+Ø¤Ù’Ù…ÙÙ†+ÙÙˆÙ†Ù', 'Ø¡.Ù….Ù†', '1.17,3.2,4.2'],
        'ÙŠÙ+Ø¹Ù’Ù„ÙÙ…+ÙÙˆÙ†Ù': ['ÙŠÙ+Ø¹Ù’Ù„ÙÙ…+ÙÙˆÙ†Ù', 'Ø¹.Ù„.Ù…', '1.17,3.2,4.2'],
        'ØªÙ+Ø¹Ù’Ù…ÙÙ„+ÙÙˆÙ†Ù': ['ØªÙ+Ø¹Ù’Ù…ÙÙ„+ÙÙˆÙ†Ù', 'Ø¹.Ù….Ù„', '1.17,3.2,4.2'],

        # ===== Ø­Ø±Ù ØªÙˆÙƒÙŠØ¯ + Ø¶Ù…ÙŠØ± =====
        'Ø¥ÙÙ†ÙÙ‘+Ù‡Ù': ['Ø¥ÙÙ†ÙÙ‘+Ù‡Ù', 'Ø¡.Ù†.Ù†', '1.9,4.2'],
        'Ø¥ÙÙ†ÙÙ‘+Ù‡ÙÙ…': ['Ø¥ÙÙ†ÙÙ‘+Ù‡ÙÙ…', 'Ø¡.Ù†.Ù†', '1.9,4.2'],
        'Ø£ÙÙ†ÙÙ‘+ÙÙŠ': ['Ø£ÙÙ†ÙÙ‘+ÙÙŠ', 'Ø¡.Ù†.Ù†', '1.9,4.2'],
        'Ø£ÙÙ†ÙÙ‘+Ù†Ø§': ['Ø£ÙÙ†ÙÙ‘+Ù†Ø§', 'Ø¡.Ù†.Ù†', '1.9,4.2'],

        # ===== Ø­Ø±Ù + Ø¸Ø±Ù =====
        'ÙˆÙ+Ø¥ÙØ°Ø§': ['ÙˆÙ+Ø¥ÙØ°Ø§', 'Ø¸Ø±Ù', '1.2,5.1'],
        'ÙÙ+Ø¥ÙØ°Ø§': ['ÙÙ+Ø¥ÙØ°Ø§', 'Ø¸Ø±Ù', '1.2,5.1'],
        'ÙˆÙ+Ø¥ÙØ°Ù’': ['ÙˆÙ+Ø¥ÙØ°Ù’', 'Ø¸Ø±Ù', '1.2,5.1'],
        'ÙÙ+ÙŠÙÙˆÙ’Ù…ÙØ¦ÙØ°Ù': ['ÙÙ+ÙŠÙÙˆÙ’Ù…ÙØ¦ÙØ°Ù', 'ÙŠ.Ùˆ.Ù…', '1.2,5.1'],

        # ===== Ø­Ø±ÙˆÙ Ù…ØªØ¹Ø¯Ø¯Ø© =====
        'ÙˆÙ+Ù„Ù+Ù‚ÙØ¯Ù’': ['ÙˆÙ+Ù„Ù+Ù‚ÙØ¯Ù’', 'Ø­Ø±Ù', '1.2,1.9,1.9'],
        'Ø£+Ù„Ù‘Ø§': ['Ø£+Ù„Ù‘Ø§', 'Ø­Ø±Ù', '1.7,1.10'],
        'Ø£Ù+Ù„ÙÙ…Ù’': ['Ø£Ù+Ù„ÙÙ…Ù’', 'Ø­Ø±Ù', '1.7,1.4'],

        # ===== Ù…Ø±ÙƒØ¨Ø§Øª Ø£Ø®Ø±Ù‰ =====
        'Ø¨Ù+Ø¢ÙŠØ§Øª+ÙÙŠ': ['Ø¨Ù+Ø¢ÙŠØ§Øª+ÙÙŠ', 'Ø¡.ÙŠ.ÙŠ', '1.1,2.1,4.2'],
        'Ø§Ø³Ù’ØªÙØ¬Ø§Ø¨+ÙÙˆØ§': ['Ø§Ø³Ù’ØªÙØ¬Ø§Ø¨+ÙÙˆØ§', 'Ø¬.Ùˆ.Ø¨', '3.1,4.2'],

        # ===== Ø¶Ù…Ø§Ø¦Ø± Ù…Ù†ÙØµÙ„Ø© + Ø¹Ø·Ù =====
        'ÙˆÙ+Ù‡ÙÙˆÙ': ['ÙˆÙ+Ù‡ÙÙˆÙ', 'Ø¶Ù…ÙŠØ±', '1.2,4.1'],
        'ÙˆÙ+Ù‡ÙÙ…': ['ÙˆÙ+Ù‡ÙÙ…', 'Ø¶Ù…ÙŠØ±', '1.2,4.1'],

        # ===== ÙƒÙ + Ø§Ø³Ù… Ø¥Ø´Ø§Ø±Ø© =====
        'ÙƒÙ+Ø°Ù°Ù„ÙÙƒÙ': ['ÙƒÙ+Ø°Ù°Ù„ÙÙƒÙ', 'Ø§Ø³Ù… Ø¥Ø´Ø§Ø±Ø©', '1.21,2.3'],

        # ===== ÙƒÙ„Ù…Ø§Øª Ø®Ø§ØµØ© =====
        'Øµ': ['Øµ', 'NTWS', '6.1'],

        # ===== ÙƒÙÙ…Ø§ =====
        'ÙƒÙÙ…Ø§': ['ÙƒÙÙ…Ø§', 'Ø­Ø±Ù', '1.21,2.4'],

        # ===== Ù…Ø±ÙƒØ¨Ø§Øª Ø£Ø®Ø±Ù‰ =====
        'ÙˆÙ+Ù„Ù°ÙƒÙÙ†Ù’': ['ÙˆÙ+Ù„Ù°ÙƒÙÙ†Ù’', 'Ø­Ø±Ù', '1.2,1.18'],
        'ÙˆÙ+Ø¥ÙÙ†Ù’': ['ÙˆÙ+Ø¥ÙÙ†Ù’', 'Ø­Ø±Ù', '1.2,1.4'],
        'ÙˆÙ+Ù„ÙÙˆÙ’': ['ÙˆÙ+Ù„ÙÙˆÙ’', 'Ø­Ø±Ù', '1.2,1.4'],

        # ===== Ø­Ø±ÙˆÙ + Ø¬Ø±Ø¬Ø±Ø© =====
        'ÙˆÙ+Ù…ÙÙ†': ['ÙˆÙ+Ù…ÙÙ†', 'Ø­Ø±Ù', '1.2,1.1'],
        'ÙÙ+Ù…ÙÙ†': ['ÙÙ+Ù…ÙÙ†', 'Ø­Ø±Ù', '1.2,1.1'],

        # ===== ØªØµØ­ÙŠØ­Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© =====
        'Ù„ÙØ¹ÙÙ„ÙÙ‘+ÙƒÙÙ…': ['Ù„ÙØ¹ÙÙ„ÙÙ‘+ÙƒÙÙ…', 'Ø¹.Ù„.Ù„', '1.9,4.2'],
        'ÙŠØ§+Ø£ÙÙŠÙÙ‘+Ù‡Ø§': ['ÙŠØ§+Ø£ÙÙŠÙÙ‘+Ù‡Ø§', 'Ø­Ø±Ù', '1.6,2.1,1.15'],
        'ÙŠØ§+Ø¹ÙÙŠØ³ÙÙ‰': ['ÙŠØ§+Ø¹ÙÙŠØ³ÙÙ‰', 'NTWS', '1.6,2.2'],
        'Ø¨ÙÙŠÙ’Ù†Ù+Ù‡ÙÙ…': ['Ø¨ÙÙŠÙ’Ù†Ù+Ù‡ÙÙ…', 'Ø¨.ÙŠ.Ù†', '5.2,4.2'],
    }

    def analyze_word_manually(self, word: str) -> List[str]:
        """ØªØ­Ù„ÙŠÙ„ ÙŠØ¯ÙˆÙŠ Ø¯Ù‚ÙŠÙ‚ Ù„ÙƒÙ„ ÙƒÙ„Ù…Ø©"""

        if word in self.MANUAL_CORRECTIONS:
            return self.MANUAL_CORRECTIONS[word]

        # Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ Ø§Ù„ØªØµØ­ÙŠØ­ØŒ Ù†Ø¹ÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù…Ø¹ Ø¹Ù„Ù… 6.1
        return [word, 'X', '6.1']


def process_batches_manually(batch_num: int):
    """Ù…Ø¹Ø§Ù„Ø¬Ø© ÙŠØ¯ÙˆÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø© Ù„ÙƒÙ„ batch"""

    input_file = f'batches/batch_{batch_num:02d}.json'
    output_file = f'final/final_{batch_num:02d}.json'

    with open(input_file, 'r', encoding='utf-8') as f:
        data = json.load(f)

    analyzer = ManualLineByLineAnalyzer()
    corrected_data = []

    for i, entry in enumerate(data):
        word = entry[0]
        root = entry[1]

        # ØªØ­Ù„ÙŠÙ„ ÙŠØ¯ÙˆÙŠ
        analyzed = analyzer.analyze_word_manually(word)

        if len(analyzed) == 3:
            corrected_data.append(analyzed)
        else:
            # Ø§Ø­ØªÙŠØ§Ø·ÙŠ
            corrected_data.append([word, root, '6.1'])

    with open(output_file, 'w', encoding='utf-8') as f:
        json.dump(corrected_data, f, ensure_ascii=False, indent=2)

    return len(corrected_data)


# Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙŠØ¯ÙˆÙŠÙ‘Ø§Ù‹
print("ğŸ“ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ø³Ø·Ø± Ø¨Ø³Ø·Ø±...")
for i in range(1, 16):
    count = process_batches_manually(i)
    print(f"âœ“ Ù…Ø¹Ø§Ù„Ø¬Ø© batch_{i:02d}.json â†’ final_{i:02d}.json ({count} ÙƒÙ„Ù…Ø©)")

print("\nâœ“ Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø³Ø·Ø± Ø¨Ø³Ø·Ø±")
print("âœ“ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¢Ù† ÙÙŠ Ù…Ø¬Ù„Ø¯ final/ Ù…Ø¹ ØªØµØ­ÙŠØ­Ø§Øª ÙŠØ¯ÙˆÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø©")
